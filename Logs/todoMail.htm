<!DOCTYPE html>
<html>
    <head>
        <title>todoMail</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <style>@import url('https://fonts.googleapis.com/css2?family=M+PLUS+1&family=M+PLUS+1+Code&display=swap');body{margin:0;background-color:#111;color:#ddd;font-family:'M PLUS 1',sans-serif;font-size:1rem;line-height:1.5;overflow-wrap:break-word;word-wrap:break-word}a{color:#69c;text-decoration:underline}a:hover,a:active,a:focus{font-weight:bold}div.task,div.note,div.file,div.image{margin:10px;border:1px solid transparent}div.entries>div.note{border:1px solid #333}div.title{background-color:#538;padding:20px 30px;font-size:2rem;font-weight:bold}a.title{color:#ddd;text-decoration:none}a.title:hover,a.title:active,a.title:focus{text-decoration:underline}div.streaming{background-color:#131}div.streaming:hover{background-color:#353}div.done{background-color:#115}div.done:hover{background-color:#337}div.canceled{background-color:#511}div.canceled:hover{background-color:#733}div.task_contents{margin:10px 15px}span.task_contents{font-weight:bold}a.permalink{visibility:hidden}div.task:hover a.permalink{visibility:visible}div.note{background-color:#111}p.note_contents{margin:15px 20px}div.file{border:1px solid #333;background-color:#111;padding:15px 20px}div.image{border:1px solid #333;background-color:#111;padding:10px}img.image{box-sizing:border-box;vertical-align:top;max-width:100%}div.images{margin:10px;border:1px solid #333;background-color:#111;padding:10px;display:flex;justify-content:flex-start;gap:10px;flex-wrap:wrap}div.images>div.image{margin:0;border-style:none;padding:0}ul.files{margin:10px;border:1px solid #333;background-color:#111;padding-top:15px;padding-inline:40px 15px;padding-bottom:15px}div.note_ai_generated{margin:10px;border:1px solid transparent;background-color:#333}div.note_ai_generated>*{margin:15px 20px}div.note_ai_generated h1{font-size:2rem;font-weight:bold}div.note_ai_generated h2{font-size:1.8rem;font-weight:bold}div.note_ai_generated h3{font-size:1.6rem;font-weight:bold}div.note_ai_generated h4{font-size:1.4rem;font-weight:bold}div.note_ai_generated h5{font-size:1.2rem;font-weight:bold}div.note_ai_generated h6{font-size:1rem;font-weight:bold}pre{background-color:#555;padding:15px 20px;white-space:pre-wrap}code{font-family:'M PLUS 1 Code',monospace}</style>
    </head>
    <body>
        <div class="title">
            <a href="todoMail.htm" class="title">todoMail</a>
        </div>
        <div class="entries">
            <div class="note">
                <div class="note_contents">
                    <p class="note_contents">todoMailSenderWpf というものをパッと書いた。とにかく夫婦間のタスク共有を改善したくての雑なツール。</p>
                    <p class="note_contents">Asana などを使うのでも良かったが、yyLib のベースを作り、ChatGPT にアクセスする yyGpt をまとめ、MailKit/MimeKit を使う yyMail を作り……という遠回りの方が、いずれ自社のシステムやアプリを揃えたい自分にとっては近道。</p>
                    <p class="note_contents">そもそも既製品を使っては、そちらが便利なのは分かりきっていて、自分のコードベースを整えていく意欲が減衰する。</p>
                    <p class="note_contents">出国直前に4日で計47時間ほどプログラミングをしたようだ。やはり小規模のツールでも10時間は掛かり、中規模だと100時間からになるようだ。</p>
                    <!-- Task: 03f79484-a8c4-459c-937f-7f799b23d793 -->
                </div>
            </div>
            <div class="note">
                <div class="note_contents">
                    <p class="note_contents">出国直前に急いだのは、これから1ヶ月ほど親族に会いにロシアに行くため。ロシアでは ChatGPT も Facebook も LINE も使えない。VPN 対策も強化されていると聞く。yyGpt を作り込むのが本来の目的で、それだけではつまらないので TODO メールを送るツールを仕上げた。</p>
                    <!-- Task: 03f79484-a8c4-459c-937f-7f799b23d793 -->
                </div>
            </div>
            <div class="note">
                <div class="note_contents">
                    <p class="note_contents">ChatGPT を使うコードを見ると、そのほとんどが「しばらく待って、いきなりドバッと」だ。それだと使いにくいので、トークン単位でじわじわと出力する方法を調べた。けっこうめんどくさい処理なのをライブラリー化できた。VPN が動けばロシアで、そうでなければ帰国後にコードを洗練し、エラーが出尽くしたら自社のシステムやアプリに組み込む。</p>
                    <!-- Task: 03f79484-a8c4-459c-937f-7f799b23d793 -->
                </div>
            </div>
            <div id="27013573-8568-4d05-9c67-98fd0ec695ac" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">初回起動時のエラーメッセージについて調べる</span>
                    <a href="#27013573-8568-4d05-9c67-98fd0ec695ac" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">JSON ファイルを作りながら起動する。最初は四つ一気に作られていたが、今では二つ、一つ、一つと作られる。つまり、二つ作った時点でエラーになる。アプリを再起動すると、次は一つだけ作られてエラーになる。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="bac24741-ecbd-47d5-ac7e-413b894eceea" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">翻訳された本文が空でも直後に境界線が入るのを修正</span>
                    <a href="#bac24741-ecbd-47d5-ac7e-413b894eceea" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="69bf708a-86f2-41dd-b712-3f1626b0afd2" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">ChatGPT が反応しないときのエラーメッセージを改善</span>
                    <a href="#69bf708a-86f2-41dd-b712-3f1626b0afd2" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">&#39;str&#39; がどうのこうのというメッセージが出る。自分のデバッグにはそれで十分だが、ユーザーには分かりにくい。</p>
                            <p class="note_contents">また、もうちょっと情報がないと不便がある。あらゆるケースを追えているのか分からない。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">yyGptLib が &#39;str&#39; の内容を表示するようにした。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="e2566a4e-2b87-4c15-81f9-cb2c4b371b30" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">最近のエラーメッセージをチェック</span>
                    <a href="#e2566a4e-2b87-4c15-81f9-cb2c4b371b30" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">ChatGPT が禁止されているロシアに来て、VPN でいろいろな国につないで API を使っている。つなぎ忘れての操作ではたいてい落ちるし、東京のサーバーにつないでいても（それまでにユーザーを一意に特定されてか）落ちたことがある。良くも悪くも、質の高いエラーメッセージを得られている。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">サーバーからのレスポンスをそのまま保存する実装に改めて内容をチェックしたところ、全てが「ロシアでは ChatGPT を使えません」関連だった。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="7475f7f0-46a2-4158-b5f8-2f1125e18102" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">ChatGPT 以外による翻訳も可能にする</span>
                    <a href="#7475f7f0-46a2-4158-b5f8-2f1125e18102" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">日常的に API が落ちている。信頼性が低い。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">Google からも Gemini が出てきたわけで、バックエンドの API をニーズに基づいて切り替えるのが当たり前の時代に。しかし、ChatGPT による翻訳も精度が十分に高く、今すぐにするべきは、ChatGPT ベースの決め打ちでよいから機能性を満たすこと。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="53478c7c-b5b0-4a55-a748-5ee4985a0cc7" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">サーバーとの全てのやり取りをその都度出力するモードを実装</span>
                    <a href="#53478c7c-b5b0-4a55-a748-5ee4985a0cc7" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">yyGptLib の更新により実現した。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="4927fa2d-f665-446b-89a7-aa89c0ab1bce" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">翻訳と送信を一つのボタンで行えるようにする</span>
                    <a href="#4927fa2d-f665-446b-89a7-aa89c0ab1bce" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">VPN が知らないうちにオフになっているとか、途中までは翻訳できたが API が止まったとかにより、そのまま送るに適さない翻訳文が得られることがある。5～10秒の待ち時間がもったいないが、しばらくは翻訳の結果を待ってからの送信であるべき。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="c7427701-1e21-49e1-8d8d-62c8ea00de51" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">送信先を強調表示</span>
                    <a href="#c7427701-1e21-49e1-8d8d-62c8ea00de51" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">最初、奥さんに送るはずのものを自分向けのところに入力し、翻訳したことで、書くところを間違ったことに気付くということが何度かあったが、すぐにそういうミスはなくなった。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="83728de7-70af-4bfc-bc30-1e8020a585d7" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">タスクバーで区別が付くようにする</span>
                    <a href="#83728de7-70af-4bfc-bc30-1e8020a585d7" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">簡単なツールなので、設定の組み合わせの数だけバイナリーを配置して運用している。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">送信先を Title の先頭に入れるのが一つの方法だが、たとえば英語を話せる人と中国語を話せる人がいるチームが単一のメアドを使っているなら、誰に読んでもらいたいかを考えて言語を切り替えることも可能性としてはある。簡単な身内用ツールだが、タスクバーで相手だけでなく念のため言語まで表示されるようにできるのは大きなコストでない。</p>
                            <p class="note_contents">具体的には、「○○さんに英語で」のような文字列を自分で設定できるように。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="29a17834-2014-438b-b201-8ecc71d357a5" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">フォントなどを指定できるようにする</span>
                    <a href="#29a17834-2014-438b-b201-8ecc71d357a5" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">長文を書くわけでなく、さほど困っていないが、UI 関連の設定項目を JSON から読み込むコードをライブラリーの方に実装する一つの機会になる。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="2ec02224-3381-46ab-8312-5c9088808b16" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">[TODO] 以外のタイトルでも送れるようにする</span>
                    <a href="#2ec02224-3381-46ab-8312-5c9088808b16" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">さほど重要でないパスワードなどのメモを送るときに便利。そのままメールをアーカイブしてもらえばよい。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">これは身内だけのツールなので件名のフォーマットを GUI で CRUD できるまでは不要。設定ファイルに入れた項目をリストから選択できれば十分。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="07982676-0fca-4ec5-aed6-b087bafdf020" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">プロジェクト名を簡素化</span>
                    <a href="#07982676-0fca-4ec5-aed6-b087bafdf020" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="4877ec6d-bdd0-49e3-95d9-6a64094018e2" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">コーディングのガイドラインに準拠しているか調べる</span>
                    <a href="#4877ec6d-bdd0-49e3-95d9-6a64094018e2" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="09c6fbd3-10d3-48c8-b7d5-b7a3ee35ea7d" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">プロダクトとしての完全性を高める</span>
                    <a href="#09c6fbd3-10d3-48c8-b7d5-b7a3ee35ea7d" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">奥さんと TODO メールを送り合いたくて、ChatGPT による翻訳のデモンストレーションもかねて書いたツール。よく動き、目的を達成できたが、そもそもメールクライアントをそんなに見ないという問題があって、タスク管理には向かなかった。まとまった時間を確保して夫婦で一緒に何かをするにおいては便利だが、そのときに終わらなかったことがメールクライアント内に埋没する。</p>
                            <p class="note_contents">いずれにしても、その場をしのぐツールとしては成功だった。より包括的なツールを今後は書くため、このプログラムはこのくらいでよい。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="5c308d8d-18ef-4ca6-b182-ddee5e6955bb" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">AI のエンドポイントやモデルを指定できるようにする</span>
                    <a href="#5c308d8d-18ef-4ca6-b182-ddee5e6955bb" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">暫定的に翻訳アプリとして使うことがある。GPT-4 の Turbo の方は、2024年1月29日の時点ではまだプレビュー版だが、一度に扱える文字数が増えていて、長文を一発で翻訳できる。現行の決め打ちのコードではそれができず、訳文が大幅に省略される。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="d81cca32-5910-4615-8a06-9a4004c8e998" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">srcZip の設定ファイルを追加</span>
                    <a href="#d81cca32-5910-4615-8a06-9a4004c8e998" class="permalink">&infin;</a>
                </div>
            </div>
            <div class="note">
                <div class="note_contents">
                    <p class="note_contents">いったん却下したことだが、フォントを指定できるようにした。モデル名の指定に設定ファイルが必要になり、それなら数行でフォントの指定も受け付けることができたため。</p>
                    <p class="note_contents">appsettings.json 内には、AppSpecific というセクションを作った。ルートにキーと値のペアを入れていくのは違和感があったため。</p>
                    <!-- Task: 74110795-3c3a-46c2-9321-994a7e951edd -->
                </div>
            </div>
            <div id="5cc0671d-4b47-49f7-b7bd-b9c1af890628" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">.yyUserSecrets の API キーへのフォールバックを再テスト</span>
                    <a href="#5cc0671d-4b47-49f7-b7bd-b9c1af890628" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">GptChatConnection.json からキーを消せばそうなるはずだが、動いていないようだ。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">追加のコードが必要だったので実装した。また、全てのプロジェクトをチェックし、値の引き継ぎの流れを再確認した。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="e54c471a-fddb-4aca-ac27-4079a656fa44" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">v0.1 としてアーカイブ</span>
                    <a href="#e54c471a-fddb-4aca-ac27-4079a656fa44" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="f4ff4f1c-4c59-4298-8b62-1a4161570023" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">v0.2 としてアーカイブ</span>
                    <a href="#f4ff4f1c-4c59-4298-8b62-1a4161570023" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">実装に変更がないが、依存するアセンブリーのソリューション名に Lib がつき、参照のパスが変わった。アーカイブには常に最新の安定版のコードが入っているべきとの自分ルールがあるので、バージョン番号を上げてアーカイブをつくる。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="f37943cb-b46f-4209-b7d2-360b5c0842fd" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">現行のコードを全体的にチェック</span>
                    <a href="#f37943cb-b46f-4209-b7d2-360b5c0842fd" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">Avalonia UI への切り替えはおそらく可能。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="e9b5850a-1dc0-4bbe-b144-baba2c6e2bc3" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">App.Sender などを Session クラスにまとめる</span>
                    <a href="#e9b5850a-1dc0-4bbe-b144-baba2c6e2bc3" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="24879954-ea17-4771-92ef-7b56ffc23329" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">WPF のまま UI とロジックのコードを分離</span>
                    <a href="#24879954-ea17-4771-92ef-7b56ffc23329" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">MVVM について不勉強だった頃にイベント駆動型で書いたコード。しかも、身内だけのツールだと思って手を抜いた。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">できるだけのことをした。あとは Avalonia UI に切り替えてから臨機応変に。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="c9cc860c-ba52-4a07-8bb4-411ea2c0aad7" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">アプリのタイトルを設定ファイルで指定できるようにする</span>
                    <a href="#c9cc860c-ba52-4a07-8bb4-411ea2c0aad7" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="0264dcea-dbeb-4abb-acc9-24022ae8beac" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">AssemblyInfo.cs を消す</span>
                    <a href="#0264dcea-dbeb-4abb-acc9-24022ae8beac" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="97d040d4-0b5f-4546-b0c7-2c23cd01bc78" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">todoMail.csproj.user を消す</span>
                    <a href="#97d040d4-0b5f-4546-b0c7-2c23cd01bc78" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="b46c8eda-dbe4-41a7-a9ea-a7dd57863820" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">todoMail.csproj を更新</span>
                    <a href="#b46c8eda-dbe4-41a7-a9ea-a7dd57863820" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="13e50a61-955c-45e1-afb8-05f28f742f87" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">のっぺらぼうで起動できるようにする</span>
                    <a href="#13e50a61-955c-45e1-afb8-05f28f742f87" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">App.xaml<br />
                                App.xaml.cs<br />
                                MainWindow.xaml<br />
                                MainWindow.xaml.cs<br />
                                MainWindowHelper.cs</p>
                            <p class="note_contents">これらのファイルをいったん除外する。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="61d0e45d-1fb6-435f-96ed-80d7a90a15f0" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">不要なコードが残っていないのを確認</span>
                    <a href="#61d0e45d-1fb6-435f-96ed-80d7a90a15f0" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="79c853e5-2229-4f51-acec-31dfcd9aaf5d" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">Greeting とそのデータを消す</span>
                    <a href="#79c853e5-2229-4f51-acec-31dfcd9aaf5d" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="cb2d46b6-8978-4d4a-a8c9-959fd8ce0a01" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">d:DesignWidth などを調整</span>
                    <a href="#cb2d46b6-8978-4d4a-a8c9-959fd8ce0a01" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">これは最終の表示に影響しないので、どうでもよさそう。Width などを設定すれば、そちらが優先される。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="32009c19-234e-4201-863d-852acd535f5c" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">MessageBox の代わりのものに owner が必要か考える</span>
                    <a href="#32009c19-234e-4201-863d-852acd535f5c" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">いろいろとやってみた。ダイアログがどのウィンドウに関連づけられるかなので必要。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="365fc422-c27e-49dd-adaf-e2dfc8f23029" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">設定ファイルを見るように言うコードを MainWindow の方に移す</span>
                    <a href="#365fc422-c27e-49dd-adaf-e2dfc8f23029" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">その方が理想的だが、まだ起動しても意味のない状態なら、main window を表示することなくダイアログを表示してアプリが終了するのもユーザビリティー的に間違いでない。厳密には MVVM でなくなるが、別のところでテストできている、主に UI 関連の数行のみイベントハンドラーとして書くのは、自分としては現実的な落としどころと考えたい。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="fc350dba-cf63-44ec-98f2-ab3b6cdf0af7" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">MessageBox の代わりとなるものを実装</span>
                    <a href="#fc350dba-cf63-44ec-98f2-ab3b6cdf0af7" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="96f94c86-6623-44b2-a8c6-112097408107" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">設定ファイルで Dark テーマに切り替えられるようにする</span>
                    <a href="#96f94c86-6623-44b2-a8c6-112097408107" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="825cca82-1ea5-4232-a591-22322d23b391" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">WPF から Avalonia UI に切り替える</span>
                    <a href="#825cca82-1ea5-4232-a591-22322d23b391" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">メールの送信や翻訳が動くようになったので、切り替えは完了。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="5502e341-d70c-4682-9153-0f390204e34f" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">Mac でテスト</span>
                    <a href="#5502e341-d70c-4682-9153-0f390204e34f" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">あっけなく全て成功した。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="1b194c55-c5f2-4e0b-b9ae-fbe11e36a969" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">メール送信や翻訳における別スレッドでのエラーが表示されるのを Windows と Mac でテスト</span>
                    <a href="#1b194c55-c5f2-4e0b-b9ae-fbe11e36a969" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">Windows でのテストに成功した。window の生成も UI スレッドでしか行えないと知り、そういう実装に変更した。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">Mac でも成功した。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="ca0d6d4b-346e-4f3e-8a18-7ea1ab6fee16" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">todo コメントを全て処理</span>
                    <a href="#ca0d6d4b-346e-4f3e-8a18-7ea1ab6fee16" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="4a6a8c58-556d-4e6e-b073-d5cee9da68bb" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">テスト</span>
                    <a href="#4a6a8c58-556d-4e6e-b073-d5cee9da68bb" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="3f004967-8652-493e-93b8-b0fbfbe497e8" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">Closing の処理が Mac でも動くかテスト</span>
                    <a href="#3f004967-8652-493e-93b8-b0fbfbe497e8" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="609beee5-17ef-42ba-b0cf-4c4a9bf563ed" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">アイコンを置き換える</span>
                    <a href="#609beee5-17ef-42ba-b0cf-4c4a9bf563ed" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">これは身内用のツールなので、そこまでのことは必要でない。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
