<!DOCTYPE html>
<html>
    <head>
        <title>tkView</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="tk2Text.css" rel="stylesheet" />
    </head>
    <body>
        <div class="title">
            <a href="tkView.htm" class="title">tkView</a>
        </div>
        <div class="entries">
            <div class="note">
                <div class="note_contents">
                    <p class="note_contents">つなぎとして。新しいシステムを作りたいが、今すぐに着手するのは時間的に難しい。</p>
                    <!-- Task: 98ad208a-e94b-4570-a433-7d683de0c8dc -->
                </div>
            </div>
            <div id="93933e44-b352-4704-9dd5-a73aacfe1cd0" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">tk2Text/Shared ディレクトリーのコードを DLL 化</span>
                    <a href="#93933e44-b352-4704-9dd5-a73aacfe1cd0" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="42145dbd-d180-47a6-83a1-9d82393ea2b3" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">tk2Text のソリューションにプロジェクトを追加</span>
                    <a href="#42145dbd-d180-47a6-83a1-9d82393ea2b3" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">tk2Text の開発時には、taskKiller のコードをあまりさわりたくなく、そのうちタスクのファイルの読み書きに関するコードだけをコピー・整理し、tk2Text/Shared ディレクトリーに入れた。それが落ち着いているので、DLL 化する。その DLL を、これから作るプログラムで使う。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="eb3da5bf-f262-4fda-b3fc-3a91ad2adf36" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">名前を決める</span>
                    <a href="#eb3da5bf-f262-4fda-b3fc-3a91ad2adf36" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="dca2b755-45b3-424a-9fc5-766c7dbc9f87" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">プロパティーをチェック</span>
                    <a href="#dca2b755-45b3-424a-9fc5-766c7dbc9f87" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="9729fd99-12c9-486a-ab41-be1961b96ebc" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">プロジェクトの依存関係を設定</span>
                    <a href="#9729fd99-12c9-486a-ab41-be1961b96ebc" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="aeeed311-c66f-45fd-8055-93b294ac2638" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">アセンブリー情報を設定</span>
                    <a href="#aeeed311-c66f-45fd-8055-93b294ac2638" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="11969055-ff38-4279-a7d4-598cc5b87126" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">srcZip.txt を更新</span>
                    <a href="#11969055-ff38-4279-a7d4-598cc5b87126" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="e9540b31-d5d4-4e4f-b11f-96009f2f3bee" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">実装</span>
                    <a href="#e9540b31-d5d4-4e4f-b11f-96009f2f3bee" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="9b9da7a9-c04a-49ee-a3a8-33f933adb760" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">落ちるところがないようにする</span>
                    <a href="#9b9da7a9-c04a-49ee-a3a8-33f933adb760" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">一度エラーが発生すると処理を再開できない部分がいくつかあるが、しばらく使ってみて、どこでエラーが発生するのか見たいため、そのままにしておく。</p>
                            <p class="note_contents">プログラムごと落ちることはなさそう。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="9fce90dc-6371-423f-b77c-567efaf4be70" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">時差やロケールが影響しないのを確認</span>
                    <a href="#9fce90dc-6371-423f-b77c-567efaf4be70" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="6c7ffc86-337e-4030-99ff-bae85bab7fd9" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">アーカイブ</span>
                    <a href="#6c7ffc86-337e-4030-99ff-bae85bab7fd9" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="1834a72f-7110-4099-a331-ad0919ddff5a" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">Space キーによるリロードを可能にする</span>
                    <a href="#1834a72f-7110-4099-a331-ad0919ddff5a" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="c9475b87-10f8-4b0e-9165-5e1b49e33b5d" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">Running.txt がなければタスクリストを直接開けるようにする</span>
                    <a href="#c9475b87-10f8-4b0e-9165-5e1b49e33b5d" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="de704aa1-2c1a-47de-b18d-2ab6ded87cc1" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">「処理済み」のところで実行したか却下したかが分かるようにする</span>
                    <a href="#de704aa1-2c1a-47de-b18d-2ab6ded87cc1" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="a11732ce-789f-4ac7-8805-b59846601e9b" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">Debug.log が常に出力されるようにする</span>
                    <a href="#a11732ce-789f-4ac7-8805-b59846601e9b" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">名前やフォーマットを変更する。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">今後の派生開発において複数行のログを出力する可能性を考えてタイムスタンプ直後に改行を入れた。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="404b87e9-f18c-4c94-a2b0-1c78bcb47f00" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">「早めに」と「今すぐ」のタスクを相互移動できるようにする</span>
                    <a href="#404b87e9-f18c-4c94-a2b0-1c78bcb47f00" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">「早めにしなければならない」というのは分かるが、今すぐなのかどうかは今日・明日の都合によるタスクが多い。taskKiller によらないファイルの変更が taskKiller に大きな影響を及ぼさないなら、tkView で State だけは変更したい。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="066861aa-73c0-440d-9c44-71ab8b3efd9d" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">アーカイブ</span>
                    <a href="#066861aa-73c0-440d-9c44-71ab8b3efd9d" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="04037e8c-eadb-4a0b-a13d-fc264ffaec18" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">タスクの読み込みを高速化</span>
                    <a href="#04037e8c-eadb-4a0b-a13d-fc264ffaec18" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">ObservableCollection への要素の追加は大したコストでない。タスクをロードし、ObservableCollection に入れ「ない」実装を試しても、所要時間が変化しなかった。</p>
                            <p class="note_contents">コンストラクターに IList &lt;T&gt; を渡すと基底クラスの private フィールドにそのままコピーされ、コレクションの変更に関する通知が送られない。要素が多いなら、この方法による高速化に期待できる。</p>
                            <p class="note_contents">wpf - Fast performing and thread safe observable collection - Stack Overflow<br />
                                <a href="https://stackoverflow.com/questions/7687000/fast-performing-and-thread-safe-observable-collection" target="_blank" class="url">https://stackoverflow.com/questions/7687000/fast-performing-and-thread-safe-observable-collection</a></p>
                            <p class="note_contents">ObservableCollection.cs<br />
                                <a href="https://source.dot.net/#System.ObjectModel/System/Collections/ObjectModel/ObservableCollection.cs" target="_blank" class="url">https://source.dot.net/#System.ObjectModel/System/Collections/ObjectModel/ObservableCollection.cs</a></p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">taskKiller のファイルフォーマットの解析が遅すぎる。</p>
                            <p class="note_contents">タスク部分とメモ部分のロードのため最初に複数の改行に分けるところを修正し、tkView ではタスク部分しか必要でないため、そこだけを読むようにした。</p>
                            <p class="note_contents">また、別のファイルから読み込むステート情報の処理を HandlingUtc のあとにして、HandlingUtc が古ければファイルのロードを打ち切るようにした。</p>
                            <p class="note_contents">それでも所要時間に大差がない。</p>
                            <p class="note_contents">Dictionary の初期化、そのほかの部分の Key/Value の解析、文字列のエスケープ解除といった処理が全体的に遅いのだろう。</p>
                            <p class="note_contents">がんばっても1割くらいしか高速化できないようなので、いったん元のコードに戻した。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">テスト時、677タスクの処理が130ミリ秒くらいだった。タスクリストのコピーにより6,261タスクに増やしたところ、だいたい比例して1,300ミリ秒くらいで処理できた。</p>
                            <p class="note_contents">一連のタスクリストを使い始めたのは今年4月25日のようだ。1ヶ月が経ち、完了したタスクリストは丸ごと無視され、677タスク。今後もタスクリストを一つずつ片付けていくなら、6,261タスクには遠く及ばない数をウロウロできるはず。</p>
                            <p class="note_contents">長期的に使えるシステムでないが、少なくとも今後2～3年は今のスピードでも問題ない。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="aea87f4f-b29b-4761-a296-66f3d25f19ba" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">ログファイルの出力をオン・オフできるようにする</span>
                    <a href="#aea87f4f-b29b-4761-a296-66f3d25f19ba" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="5e45bbee-30ca-4090-95f7-a2eca655e770" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">アイコンを設定</span>
                    <a href="#5e45bbee-30ca-4090-95f7-a2eca655e770" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">仕事が溜まるアプリなので「うわぁ」となりやすい。気分を少しでも上げるため、楽しいアイコンを設定してみる。</p>
                            <p class="note_contents">Beaming Face With Smiling Eyes 3d Icon | FluentUI Emoji 3D Iconpack | Microsoft<br />
                                <a href="https://www.iconarchive.com/show/fluentui-emoji-3d-icons-by-microsoft/Beaming-Face-With-Smiling-Eyes-3d-icon.html" target="_blank" class="url">https://www.iconarchive.com/show/fluentui-emoji-3d-icons-by-microsoft/Beaming-Face-With-Smiling-Eyes-3d-icon.html</a></p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="960dc768-fc4c-408a-ac15-4f9e2259618d" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">アーカイブ</span>
                    <a href="#960dc768-fc4c-408a-ac15-4f9e2259618d" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="69c667dd-6ddc-4966-a31c-fec027155043" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">既になくなっているタスクの移動をテスト</span>
                    <a href="#69c667dd-6ddc-4966-a31c-fec027155043" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">特に問題なし。左右の移動はできるが、次回のリロードでリストから消える。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="23a3c401-9190-48b7-8e73-07bec20cd63e" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">ピンポイントでタスクリストのディレクトリーを指定できない問題を解決</span>
                    <a href="#23a3c401-9190-48b7-8e73-07bec20cd63e" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="1efc3cf3-44ba-4d66-9ed8-2eb709834e94" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">プログラムを閉じるボタンを追加</span>
                    <a href="#1efc3cf3-44ba-4d66-9ed8-2eb709834e94" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="542da485-c37f-413e-8c7d-0748a87de23b" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">コントロールのマージンなどを timeLog のものと合わせる</span>
                    <a href="#542da485-c37f-413e-8c7d-0748a87de23b" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="2b642aa9-7fb5-4e0e-9139-aa267a959055" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">プログラムの終了時に確認が入るようにする</span>
                    <a href="#2b642aa9-7fb5-4e0e-9139-aa267a959055" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">特に編集を行わないプログラムだが、「リロード」の隣に「終了」なので押し間違える。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="67837c6c-8700-476f-9663-56be85558cda" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">アイコンのライセンスをチェック</span>
                    <a href="#67837c6c-8700-476f-9663-56be85558cda" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="ef11eed9-95dc-464e-94da-a08a57626757" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">v0.6 としてアーカイブ</span>
                    <a href="#ef11eed9-95dc-464e-94da-a08a57626757" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="b8cb14ea-52d2-4775-bdbf-77a610f09931" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">左右キーによりリスト間を移動できるようにする</span>
                    <a href="#b8cb14ea-52d2-4775-bdbf-77a610f09931" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="71ceeb1d-f132-4247-86ac-93cbce7cc43d" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">タスクの文字列をコピーできるようにする</span>
                    <a href="#71ceeb1d-f132-4247-86ac-93cbce7cc43d" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">タスクリスト名を入れるかどうかを修飾キーで？</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">timeLog で計測するときのコピペがほとんどなのでタスクリスト名は不要。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="ec18acc4-647e-4108-852f-783ffc655da7" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">タスクリストを開くときにパラメーターでタスクを指定できるようにする</span>
                    <a href="#ec18acc4-647e-4108-852f-783ffc655da7" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="11dac409-9e63-4136-b734-b5aec7da9c03" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">コード分析による不要な警告を非表示にする</span>
                    <a href="#11dac409-9e63-4136-b734-b5aec7da9c03" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="2e5f4bf2-086d-4831-8eed-169c32fd71bf" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">リロード時に新しいディレクトリーが検出されるようにする</span>
                    <a href="#2e5f4bf2-086d-4831-8eed-169c32fd71bf" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="7fa64c72-5ba3-47dd-aecc-0e28db934bb4" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">v0.7 としてアーカイブ</span>
                    <a href="#7fa64c72-5ba3-47dd-aecc-0e28db934bb4" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="b2d74850-499b-4822-95f6-f3a7607fe6d5" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">WPF のデザインに関するメモの最新版がないなら作る → 古いものを更新</span>
                    <a href="#b2d74850-499b-4822-95f6-f3a7607fe6d5" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">tkView の実装においては、数年前のメモしかなかったので、それに基づいた。</p>
                            <p class="note_contents">その結果、timeLog と見た目が異なったので、より新しいメモを見落としている可能性がある。</p>
                            <p class="note_contents">しかし、記憶にはないため、探してみて見つからないなら、新しいものを揃える。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">昨年のメモが残っていた。</p>
                            <p class="note_contents">現行の Nekote の開発は昨年7月20日に始まったようだ。その前にも、コンセプトの異なる Nekote をチョロッと試作していて、そのときに WPF のデザインに関するメモをまとめている。</p>
                            <p class="note_contents">文章が読みにくかったので、一部を改めた。timeLog のデザインに合わせた tkView がメモの内容と整合するのも確認した。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="181dd318-a991-48b8-980f-17e5aa2f5477" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">最大化しない場合の縦横を指定できるようにする</span>
                    <a href="#181dd318-a991-48b8-980f-17e5aa2f5477" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="fa7e19a7-3afe-4f80-bfc5-04d4466a786f" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">v0.8 としてアーカイブ</span>
                    <a href="#fa7e19a7-3afe-4f80-bfc5-04d4466a786f" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="b89123c5-2983-471d-8791-b0678fb666d4" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">System.Formats.Asn1 パッケージをインストール</span>
                    <a href="#b89123c5-2983-471d-8791-b0678fb666d4" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">コンパイル時に、</p>
                            <p class="note_contents">警告 MSB3277 &quot;System.Formats.Asn1&quot; の異なるバージョン間で、解決できない競合が見つかりました。<br />
                                &quot;System.Formats.Asn1, Version=6.0.0.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51&quot; と &quot;System.Formats.Asn1, Version=7.0.0.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51&quot; の間で競合が発生しました。</p>
                            <p class="note_contents">という警告が表示された。</p>
                            <p class="note_contents">MSB3277: Found conflicts between different versions of &#39;assembly&#39; that could not be resolved - MSBuild | Microsoft Learn<br />
                                <a href="https://learn.microsoft.com/en-us/visualstudio/msbuild/errors/msb3277" target="_blank" class="url">https://learn.microsoft.com/en-us/visualstudio/msbuild/errors/msb3277</a></p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="0b0cbaa7-e3a4-43a5-87f1-73b6510d1e9d" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">Completed.txt があるとタスクリストをロードしないようにする</span>
                    <a href="#0b0cbaa7-e3a4-43a5-87f1-73b6510d1e9d" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="b0f3e0ad-1ea5-40f3-9670-0421abf3d2f3" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">Completed.txt がなくなった場合にタスクリストが改めてロードされるのを確認</span>
                    <a href="#b0f3e0ad-1ea5-40f3-9670-0421abf3d2f3" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="de6b0f13-d021-43b9-bdb0-ed2f6793fc35" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">v0.9 としてアーカイブ</span>
                    <a href="#de6b0f13-d021-43b9-bdb0-ed2f6793fc35" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="a4a9b78b-ec2d-463e-a251-519366fbbf80" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">タスクリストごと消えたらリロードができなくなりプログラム終了時に落ちるようなのをチェック</span>
                    <a href="#a4a9b78b-ec2d-463e-a251-519366fbbf80" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="38359deb-c5db-41de-85e0-003a275adafb" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">taskKiller でタスクリスト間のタスクの移動時に状態が変わらないようにしたことの影響を調べる</span>
                    <a href="#38359deb-c5db-41de-85e0-003a275adafb" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">大丈夫そう。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="c553171d-ec65-4550-8701-6cc5c3bae180" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">WPF のフォントレンダリングのパラメーターを指定できるようにする</span>
                    <a href="#c553171d-ec65-4550-8701-6cc5c3bae180" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="125c74d3-24e6-4885-a621-1ec09f741359" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">v0.11 としてアーカイブ</span>
                    <a href="#125c74d3-24e6-4885-a621-1ec09f741359" class="permalink">&infin;</a>
                </div>
            </div>
        </div>
    </body>
</html>
