<!DOCTYPE html>
<html>
    <head>
        <title>taskKiller を更新</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="tk2Text.css" rel="stylesheet" />
    </head>
    <body>
        <div class="title">
            <a href="taskKiller.htm" class="title">taskKiller を更新</a>
        </div>
        <div class="entries">
            <div id="b575e9de-0109-4b37-b924-e18b3c1ce65b" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">レポジトリー移行後のアーカイブをどこに保存しているのか調べる</span>
                    <a href="#b575e9de-0109-4b37-b924-e18b3c1ce65b" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">「Static\ソース\taskKiller」に0.47から0.52までが入っている。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="0c7bd333-f13b-430b-8f17-13757936b077" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">明暗のテーマから一つを選択できるようにする</span>
                    <a href="#0c7bd333-f13b-430b-8f17-13757936b077" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">ソースを公開することを決めたが（公開しない理由もなくて）、「へぇ、そんなん使ってるんですねぇ」の話題づくり程度のことで、人が使ってくれる想定は今もない。自分はずっとダークテーマなので、そのままでいい。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="4acd21ac-300e-4aae-84ce-d7829027795b" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">プロジェクト内の全てのファイルを軽くチェック</span>
                    <a href="#4acd21ac-300e-4aae-84ce-d7829027795b" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">前回の更新が昨年7月23日なので、9ヶ月くらいさわっていない。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">どういうメソッドが何をやっているかと各部のコメントだけをザッと見た。実装についてはノータッチ。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="7cfe222b-e880-4036-86fb-895666575c5b" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">フォントレンダリングのパラメーターの調整を検討</span>
                    <a href="#7cfe222b-e880-4036-86fb-895666575c5b" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">Windows のフォントレンダリングについて知識が乏しい。</p>
                            <p class="note_contents">WPF ベースの taskKiller より、Mery の DirectWrite (Natural Symmetric) の方が、同じダークテーマにおいて明らかに見やすい。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">探したが、お行儀のいいコードで WPF における DirectWrite の設定を大きく変更する方法はなさそう。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="5ff33d82-ba5b-4961-badf-c51a0943fccc" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">アイコンのライセンスをチェック</span>
                    <a href="#5ff33d82-ba5b-4961-badf-c51a0943fccc" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="1345300e-d42a-4ad5-8e39-9dd9b2ac12a3" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">リソースファイルの扱いについて書く</span>
                    <a href="#1345300e-d42a-4ad5-8e39-9dd9b2ac12a3" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">taskKiller に Check.ico として入っていたもののライセンスをチェックした。</p>
                            <p class="note_contents">Check Icon | Web 2 Iconpack | Cheezen<br />
                                <a href="https://www.iconarchive.com/show/web-2-icons-by-cheezen/check-icon.html" target="_blank" class="url">https://www.iconarchive.com/show/web-2-icons-by-cheezen/check-icon.html</a></p>
                            <p class="note_contents">に</p>
                            <p class="note_contents">License: Freeware<br />
                                Commercial usage: Allowed</p>
                            <p class="note_contents">とあり、問題なし。</p>
                            <p class="note_contents">More Infos: license.txt</p>
                            <p class="note_contents">とあるので、作法としてこのファイルを同梱することに。</p>
                            <p class="note_contents">ファイル名の衝突を避けるため、また、ファイルが混ざってややこしくならないため、リソースファイルのディレクトリー分けを考えた。プロジェクトのディレクトリーのルートに置くとリソースファイルが多い場合にうるさくなるので、Resources サブディレクトリーをかました。</p>
                            <p class="note_contents">それで Resources/Cheezen-Web-2-Check/Cheezen-Web-2-Check.ico を置いて Visual Studio でプロジェクトにアイコンを設定したところ、このファイルが .csproj に入っていて「ソリューション エクスプローラー」に入っていてもそうでなくても、なぜか Cheezen-Web-2-Check.ico がプロジェクトのルートにコピーされた。</p>
                            <p class="note_contents">taskKiller は、.NET のバージョンも古い。v4.* で動いているのをすぐに変える必要もなくてそのままにしている。最近の .NET ではプロジェクトのディレクトリーの内容が自動的にロードされ、それぞれは .csproj に入らないが、古い .NET だと、まず .csproj に入る管理であり、そこに上記のおかしな挙動が残っている。</p>
                            <p class="note_contents">ほかにもそういうプロジェクトはあるだろうから、このあたりについては、次のようにしていく。</p>
                            <p class="note_contents">* .gitignore, srcZip.txt など、IDE が認識していなくてもコンパイルに支障のないファイルを .csproj に入れない<br />
                                * .ico など、認識が必要なものを IDE 経由でプロジェクトのディレクトリーのルートに置く（.ico 以外ならサブディレクトリーがあっても大丈夫かもしれないので一応試す）<br />
                                * その他のリソースファイルを、Resources/*/* として置く</p>
                            <p class="note_contents">Cheezen-Web-2-Check.ico という名前が冗長だが、リソースファイルが多くなれば、使っているファイルの名前と、それに関連するファイルを詰めたディレクトリーの名前が一致することの利便性が生じてくるため、名前を変更しないのをルールとする。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="5a75d299-bc2b-40da-b1ac-ba3c01d0a55b" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">srcZip.txt を追加</span>
                    <a href="#5a75d299-bc2b-40da-b1ac-ba3c01d0a55b" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="4176c212-faaa-423c-9f4d-4440802cb0a9" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">ソースコードを公開</span>
                    <a href="#4176c212-faaa-423c-9f4d-4440802cb0a9" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="68847bb1-37e0-4803-bee3-c4802e4cd4de" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">v0.53 としてアーカイブ</span>
                    <a href="#68847bb1-37e0-4803-bee3-c4802e4cd4de" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="8923c7c8-85b5-4680-b4f5-ebc72bd1b9ee" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">パラメーターありの起動によりタスクを選択できるようにする</span>
                    <a href="#8923c7c8-85b5-4680-b4f5-ebc72bd1b9ee" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="b9fd9f96-6ba7-4ab0-ba42-66cd4f06eefd" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">コード分析による不要な警告を非表示にする</span>
                    <a href="#b9fd9f96-6ba7-4ab0-ba42-66cd4f06eefd" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="edc81885-97f0-43ff-9a5f-c1f77482d967" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">未処理のタスクのないディレクトリーを非表示にすることを検討</span>
                    <a href="#edc81885-97f0-43ff-9a5f-c1f77482d967" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">runAll でも検討する。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">cleanDesk など、ほかのツールでするべきこと。オン・オフの切り替えも必要のため。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="ead374a6-c306-4ba9-8023-265dba611571" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">TextBox 内の行高を指定する方法がないか調べる</span>
                    <a href="#ead374a6-c306-4ba9-8023-265dba611571" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">なさそう。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="cc590ebd-c105-4874-8e99-31c7ad75994c" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">新しいタスクリストの生成時に「元々どこにあったか」が設定ファイルに入るようにする</span>
                    <a href="#cc590ebd-c105-4874-8e99-31c7ad75994c" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">タスクを階層的に処理していくシステムを書くかもしれない。この項目があれば、taskKiller のデータを引き継げる。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">やめておく。元々どこにあったかがよく分からないタスクリストも出てくる。成果につながらない管理。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="583ac88e-1f0d-45a4-b967-88f23dc9d96d" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">ダークテーマの背景色をグレーにする</span>
                    <a href="#583ac88e-1f0d-45a4-b967-88f23dc9d96d" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">不可欠でない微調整になる。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="0ce24415-9974-4766-b64e-c745658636b6" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">メモで言及した添付ファイルが存在しない場合に警告を表示</span>
                    <a href="#0ce24415-9974-4766-b64e-c745658636b6" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">負荷が大きくなるし、この警告によりミスが防がれることは稀。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="2f668ca7-20fd-4ba2-b2aa-86743a89b0db" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">Ctrl + G で得られる文字列のフォーマットを変更</span>
                    <a href="#2f668ca7-20fd-4ba2-b2aa-86743a89b0db" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">どこに貼るかにより、適するフォーマットが異なる。そのため、</p>
                            <p class="note_contents">2f668ca7-20fd-4ba2-b2aa-86743a89b0db<br />
                                Ctrl + G で得られる文字列のフォーマットを変更</p>
                            <p class="note_contents">のようにシンプルにする。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="02de6fa7-32aa-4741-a487-4e648c65442a" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">スペルチェックを実装</span>
                    <a href="#02de6fa7-32aa-4741-a487-4e648c65442a" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">英語でのタスク管理は今後も可能性が低い。必要になってからでよい。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="9c015822-d916-49e7-86bc-98e268c013a9" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">周囲のバイナリーが古くないかチェックする機能がエラーを吐かないようにする</span>
                    <a href="#9c015822-d916-49e7-86bc-98e268c013a9" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">いったんデスクトップに移動した状態で起動すると必ずエラーを吐く。ファイルシステムのパーミッションの問題か。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="0454f0d2-c20c-43f3-8633-d449ad170842" class="task canceled">
                <div class="task_contents">&cross;
                    <span class="task_contents">タスク処理時に処理日を入力できるようにする</span>
                    <a href="#0454f0d2-c20c-43f3-8633-d449ad170842" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">成果につながらない過剰な管理。思い出せないときもあるし、思い出しても仕方ないときも。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="fb6941d7-dd1c-44bd-85cf-df7ddfe41bfc" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">ファイルを簡易的に添付できるようにする</span>
                    <a href="#fb6941d7-dd1c-44bd-85cf-df7ddfe41bfc" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="bf84fe42-cb29-405e-bf21-a33470526c63" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">ファイルパスの長さの制限について調べる</span>
                    <a href="#bf84fe42-cb29-405e-bf21-a33470526c63" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">2016年8月2日にリリースされた Windows 10, version 1607 からは MAX_PATH の制限がなくなり、およそ32,767文字を扱えるようになったとのことだが、手元で千文字の名前のファイルを WPF アプリで作ろうとしたところ失敗した。</p>
                            <p class="note_contents">Maximum Path Length Limitation - Win32 apps | Microsoft Learn<br />
                                <a href="https://learn.microsoft.com/en-us/windows/win32/fileio/maximum-file-path-limitation" target="_blank" class="url">https://learn.microsoft.com/en-us/windows/win32/fileio/maximum-file-path-limitation</a></p>
                            <p class="note_contents">Windows 10, version 1607 - Wikipedia<br />
                                <a href="https://en.wikipedia.org/wiki/Windows_10,_version_1607" target="_blank" class="url">https://en.wikipedia.org/wiki/Windows_10,_version_1607</a></p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">taskKiller に、非常識な長さの名前のファイルを添付しようとするニーズは考えにくい。そういうファイルなら、そもそも手元での扱いにおいて困る。そのため、コピーしようとしての例外が飛ぶとしても、そのエラーの原因がファイル名の長さだと表示するほどのことはなく、ほかに問題があってのエラーメッセージと同じでよい。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="1f45b3b9-2eb4-49bd-a35a-4cfde504875d" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">WPF におけるドラッグ＆ドロップについて書く</span>
                    <a href="#1f45b3b9-2eb4-49bd-a35a-4cfde504875d" class="permalink">&infin;</a>
                </div>
                <div class="notes">
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">よく分かっていなかった。ネットの情報もバラバラ。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">イベントとしては、次の四つおよびそれらに Preview が入ったものがある。</p>
                            <p class="note_contents">* DragEnter<br />
                                * DragOver<br />
                                * Drop<br />
                                * DragLeave</p>
                            <p class="note_contents">今現在の理解としては、Window など、重なりにおいて下の方にあるものには「Preview* で e.Handled = true」が良く、上の方のコントロールでは必ずしもそうとも限らないか。（もちろん上の方でもそうしてよいが、すると、下で別の処理をもっと早く行わなければならなくなったときに上の優先度を落とす変更が必要になる）。</p>
                            <p class="note_contents">e.Handled = true にしないと、たとえば e.Effects = DragDropEffects.Copy にしてもドラッグ中に Move に相当するアイコンが表示され、ListBox の枠線など、特殊なところでのみ Copy になることがある。Window のイベントで Copy にしたものがその上のコントールの（暗黙的な）イベントでデフォルトの Move になるのだろう。</p>
                            <p class="note_contents">四つのイベントは、いずれも実装するべき。Over だけで視覚的には足りるし、そういうサンプルコードが多いが、ドラッグ＆ドロップの一連の流れを考えるにおいては、DragLeave での e.Effects = DragDropEffects.None までが作法。</p>
                        </div>
                    </div>
                    <div class="note">
                        <div class="note_contents">
                            <p class="note_contents">DragDropEffects については、その処理により要素が移動するのか複製されるのかで決める。</p>
                        </div>
                    </div>
                </div>
            </div>
            <div id="96613d6d-9260-4d55-9290-1b6a96a4477e" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">全てのタスクが終わってから1週間以上が経過しているなら特殊なファイルが出力されるようにする</span>
                    <a href="#96613d6d-9260-4d55-9290-1b6a96a4477e" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="1dfde03a-5cb9-441a-a05a-a15df88f34d1" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">v0.54 としてアーカイブ</span>
                    <a href="#1dfde03a-5cb9-441a-a05a-a15df88f34d1" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="dad797b0-aab1-415e-9478-795b2c18b6de" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">添付ファイルに GUID をつける</span>
                    <a href="#dad797b0-aab1-415e-9478-795b2c18b6de" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="561666cb-c074-4991-bf4d-3b7a9ae0a4f6" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">v0.55 としてアーカイブ</span>
                    <a href="#561666cb-c074-4991-bf4d-3b7a9ae0a4f6" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="51ab2efd-b066-40f1-a808-01445caa0668" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">ファイルを、リスト全体、特定のタスク、特定のメモそれぞれに添付できるようにする</span>
                    <a href="#51ab2efd-b066-40f1-a808-01445caa0668" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="f259f547-9596-4621-81ec-e7cfc8938652" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">ファイルの添付時にどこへの添付になるか確認できるようにする</span>
                    <a href="#f259f547-9596-4621-81ec-e7cfc8938652" class="permalink">&infin;</a>
                </div>
            </div>
            <div id="1a9b957d-b2f6-4425-9224-584934bf7eb2" class="task done">
                <div class="task_contents">&check;
                    <span class="task_contents">v0.56 としてアーカイブ</span>
                    <a href="#1a9b957d-b2f6-4425-9224-584934bf7eb2" class="permalink">&infin;</a>
                </div>
            </div>
        </div>
    </body>
</html>
